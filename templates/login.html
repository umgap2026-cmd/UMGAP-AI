<!doctype html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>UMGAP â€¢ Login</title>

    <style>
      :root {
        --bg1: #eef4ff;
        --bg2: #f7f9ff;
        --card: #f5f7fb;
        --text: #1d2a44;
        --muted: #7d8aa6;
        --blue: #2f5f8f;
        --blue2: #2a537e;
        --green: #18b956;
        --shadow1: 0 18px 40px rgba(20, 35, 65, 0.12);
        --shadow2: 0 8px 18px rgba(20, 35, 65, 0.1);
        --inset:
          inset 6px 6px 12px rgba(25, 45, 80, 0.12),
          inset -6px -6px 12px rgba(255, 255, 255, 0.8);
        --inset-soft:
          inset 4px 4px 10px rgba(25, 45, 80, 0.1),
          inset -4px -4px 10px rgba(255, 255, 255, 0.85);
        --radius: 26px;
        --radius2: 18px;
      }

      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family:
          ui-sans-serif,
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          Helvetica,
          Arial,
          "Apple Color Emoji",
          "Segoe UI Emoji";
        color: var(--text);
        background: radial-gradient(
          1100px 700px at 50% -10%,
          var(--bg1) 0%,
          var(--bg2) 45%,
          #ffffff 100%
        );
        min-height: 100svh;
      }

      /* full screen layout */
      .screen {
        min-height: 100svh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 18px 16px calc(18px + env(safe-area-inset-bottom));
      }

      .card {
        width: 100%;
        max-width: 380px;
        background: var(--card);
        border-radius: var(--radius);
        box-shadow: var(--shadow1);
        padding: 22px 18px 18px;
      }

      .top {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 8px 6px 14px;
      }
      .brand-logo {
        width: 99px;
        height: 99px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        flex: 0 0 auto;
      }
      .brand-logo img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .brand {
        line-height: 1.1;
      }
      .brand .name {
        font-weight: 800;
        letter-spacing: 0.6px;
        font-size: 26px;
        color: #274b7a;
      }
      .brand .tag {
        font-size: 12px;
        color: var(--muted);
        font-style: italic;
        margin-top: 2px;
      }

      .header {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        padding: 6px 6px 10px;
      }
      .header h2 {
        margin: 0;
        font-size: 22px;
        color: #6c8fc2;
        letter-spacing: 0.2px;
      }
      .header a {
        font-size: 12px;
        color: #7ea0d8;
        text-decoration: none;
      }
      .header a:hover {
        text-decoration: underline;
      }

      .field {
        position: relative;
        margin: 12px 6px;
      }
      .input {
        width: 100%;
        height: 46px;
        border: none;
        outline: none;
        border-radius: 999px;
        padding: 0 44px 0 44px;
        background: #f2f5fb;
        box-shadow: var(--inset);
        color: var(--text);
        font-size: 14px;
      }
      .input::placeholder {
        color: #9aa8c3;
      }

      .icon {
        position: absolute;
        left: 16px;
        top: 50%;
        transform: translateY(-50%);
        width: 18px;
        height: 18px;
        opacity: 0.55;
        pointer-events: none;
      }
      .icon svg {
        width: 100%;
        height: 100%;
        fill: none;
        stroke: #5f7aa8;
        stroke-width: 2;
      }

      .eye {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        width: 34px;
        height: 34px;
        border: none;
        border-radius: 999px;
        background: transparent;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0.75;
      }
      .eye:hover {
        opacity: 1;
      }
      .eye svg {
        width: 18px;
        height: 18px;
        fill: none;
        stroke: #5f7aa8;
        stroke-width: 2;
      }

      .btn {
        width: 55%;
        max-width: 300px;
        margin: 14px auto 10px;
        display: block;

        height: 52px;
        border: none;
        border-radius: 999px;
        background: linear-gradient(180deg, var(--blue) 0%, var(--blue2) 100%);
        color: #fff;
        font-weight: 700;
        font-size: 16px;
        box-shadow: 0 10px 18px rgba(41, 83, 126, 0.25);
        cursor: pointer;
      }
      .btn:active {
        transform: translateY(1px);
      }

      .divider {
        text-align: center;
        color: #a0afc8;
        font-size: 12px;
        margin: 8px 0 10px;
      }

      .btn-lite {
        width: 55%;
        max-width: 150px;
        margin: 0 auto 12px;
        height: 40px;
        border-radius: 999px;
        background: #f2f5fb;
        box-shadow: var(--inset-soft);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        color: #6f7f9c;
        font-weight: 700;
        cursor: pointer;
        text-decoration: none;
      }
      .btn-lite img {
        width: 20px;
        height: 20px;
        object-fit: contain;
      }

      .btn-green {
        width: calc(100% - 12px);
        margin: 0 6px 6px;
        height: 52px;
        border-radius: 999px;
        background: linear-gradient(180deg, #1cd460 0%, var(--green) 100%);
        color: #fff;
        font-weight: 500;
        border: none;
        cursor: pointer;
        box-shadow: 0 12px 20px rgba(24, 185, 86, 0.25);
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .err {
        margin: 0 6px 10px;
        padding: 10px 12px;
        border-radius: 14px;
        background: #ffe9ea;
        color: #a12b2b;
        font-size: 13px;
        border: 1px solid rgba(161, 43, 43, 0.08);
      }
    </style>
  </head>

  <body>
    <div class="screen">
      <div class="card">
        <div class="top">
          <div class="brand-logo">
            <img
              src="{{ url_for('static', filename='UMGAP (1).png') }}"
              alt="UMGAP"
            />
          </div>
          <div class="brand">
            <div class="name">UMGAP</div>
            <div class="tag">Pembantu UMKM</div>
          </div>
        </div>

        <div class="header">
          <h2>Login</h2>
          <a href="forgot" aria-label="Lupa password">Forgot Password?</a>
        </div>

        {% if error %}
        <div class="err">{{ error }}</div>
        {% endif %}

        <form method="POST" action="{{ url_for('login') }}">
          <div class="field">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M20 21a8 8 0 0 0-16 0" />
                <circle cx="12" cy="8" r="4" />
              </svg>
            </span>
            <input class="input" name="email" placeholder="Username" required />
          </div>

          <div class="field">
            <span class="icon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <rect x="4" y="10" width="16" height="10" rx="2" />
                <path d="M8 10V7a4 4 0 0 1 8 0v3" />
              </svg>
            </span>

            <input
              class="input"
              id="password"
              type="password"
              name="password"
              placeholder="Password"
              required
            />

            <button
              class="eye"
              type="button"
              id="togglePw"
              aria-label="Tampilkan password"
            >
              <svg viewBox="0 0 24 24" id="eyeIcon">
                <path
                  d="M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>

          <button class="btn" type="submit">Login</button>
        </form>

        <div class="divider">or continue with</div>

        <!-- Google login: aman tanpa Jinja di onclick -->
        <a
          class="btn-lite"
          href="/login/google"
          role="button"
          aria-label="Login dengan Google"
        >
          <img
            src="{{ url_for('static', filename='icon_goggle.png') }}"
            alt="Google"
          />
          Google
        </a>

        <a class="btn-green" href="{{ url_for('register') }}"
          >Daftar Menggunakan Email</a
        >
      </div>
    </div>

    <script>
      (function () {
        const btn = document.getElementById("togglePw");
        const input = document.getElementById("password");
        if (!btn || !input) return;

        btn.addEventListener("click", () => {
          const show = input.type === "password";
          input.type = show ? "text" : "password";
          btn.setAttribute(
            "aria-label",
            show ? "Sembunyikan password" : "Tampilkan password",
          );
        });
      })();
    </script>
  </body>
</html>

